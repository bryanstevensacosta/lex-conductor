# Pre-commit hooks for LexConductor
# IBM Dev Day AI Demystified Hackathon 2026
# Team: AI Kings ðŸ‘‘

repos:
  # 1. FORMATO - Python code formatting with Black
  - repo: https://github.com/psf/black
    rev: 24.1.1
    hooks:
      - id: black
        language_version: python3.11
        args: ['--line-length=100']

  # 2. LINT - Python linting with Ruff
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.1.15
    hooks:
      - id: ruff
        args: ['--fix', '--exit-non-zero-on-fix']

  # 3. TYPECHECK - Python type checking with mypy (disabled - needs type fixes)
  # - repo: https://github.com/pre-commit/mirrors-mypy
  #   rev: v1.8.0
  #   hooks:
  #     - id: mypy
  #       additional_dependencies: [
  #         'pydantic>=2.0',
  #         'fastapi',
  #         'types-requests'
  #       ]
  #       args: ['--ignore-missing-imports']

  # 4. TESTS - Run pytest test suite
  - repo: local
    hooks:
      - id: pytest
        name: pytest
        entry: bash -c 'PYTHONPATH=. pytest tests/ -v --tb=short -x'
        language: system
        pass_filenames: false
        always_run: false
        stages: [pre-commit]
        verbose: true

# Configuration
default_language_version:
  python: python3.11

# Files to exclude from all hooks
exclude: |
  (?x)^(
    \.git/|
    \.kiro/|
    __pycache__/|
    \.venv/|
    venv/|
    \.pytest_cache/|
    \.mypy_cache/|
    \.ruff_cache/|
    node_modules/|
    dist/|
    build/|
    \.egg-info/
  )
